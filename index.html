<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="TaskCat (Python Class)">
  
  <link rel="shortcut icon" href="./img/favicon.ico">
  <title>Index - TaskCat</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="./css/theme.css" type="text/css" />
  <link rel="stylesheet" href="./css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="./css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Index";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = "/";
  </script>
  
  <script src="./js/jquery-2.1.1.min.js"></script>
  <script src="./js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="./js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> TaskCat</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href=".">Index</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#taskcat">taskcat</a></li>
                
                    <li><a class="toctree-l4" href="#what-is-taskcat">What is taskcat?</a></li>
                
                    <li><a class="toctree-l4" href="#installing-taskcat-module-via-pip">Installing taskcat module via pip</a></li>
                
                    <li><a class="toctree-l4" href="#taskcat-documentation">taskcat documentation</a></li>
                
            
            </ul>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">TaskCat</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Index</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="taskcat">taskcat</h1>
<h3 id="what-is-taskcat">What is taskcat?</h3>
<p>TaskCat is a python Class that helps deploy your cloudformation templates in multiple regions. You can use TaskCat by importing the module and creating a TaskCat object. </p>
<blockquote>
<p>This repo example code to help you get started.</p>
</blockquote>
<h3 id="installing-taskcat-module-via-pip">Installing taskcat module via pip</h3>
<pre><code>sudo pip install taskcat
</code></pre>

<h2 id="taskcat-documentation">taskcat documentation</h2>
<h3 id="setting-up-test-cases">Setting up Test Cases</h3>
<p>To setup taskcat test tests is a two step process:
<em> Step 1 Define your test in the config.ymal
</em> Step 2 Build a json input file for your cloudformation template.</p>
<h4 id="step-1-creating-a-configymal">Step 1 Creating a config.ymal</h4>
<p>You can generate a sample config.ymal by running <code>./tcat.py -ey</code>
The followung command will create a sample config.ymal</p>
<pre><code>./tcat.py -ey | egrep -v '#|^$'  &gt;config.ymal
</code></pre>

<p>Open the file with and editor and update the filenames to match your need. (See section on working with the ymal file)</p>
<h4 id="step-2-building-a-json-input-file">Step 2 Building a json input file</h4>
<p>The example below shows an input file for a stack that requires two parms <code>KeyPair</code> and <code>InstanceType</code></p>
<pre><code class="json">
    [{
        &quot;ParameterKey&quot;: &quot;KeyPair&quot;,
        &quot;ParameterValue&quot;: &quot;mykey&quot;
    }, {
        &quot;ParameterKey&quot;: &quot;InstanceType&quot;,
        &quot;ParameterValue&quot;: &quot;t2.small&quot;
    }]
</code></pre>

<h4 id="example-code-to-instantiate-taskcat">Example code to instantiate TaskCat</h4>
<blockquote>
<p>In the repo you will find tcat.py (This file contain a example of how to create a taskcat object)
You can either download from the repo or copy and paste the following code to a file called <code>tcat.py</code></p>
</blockquote>
<pre><code>#!/usr/bin/env python
# authors:
# avattathil@gmail.com
# License Apaache 2.0
#
# Purpose: This program (tcat) is a caloudformation testing tool
# Tests can defined in a configuration yaml (config.yml)
# @TODO
        # system level configuration (sys will override repo configs)
        # if os.path.isfile(sys_yml):
        # tcat.load_sysymal(sys_yml)

from taskcat import TaskCat
import yaml

def main():
    tcat_obj = TaskCat()
    tcat_obj.welcome('taskcat.io')
    # Initalize cli interface
    # @TODO Add RestFull Interface
    args = tcat_obj.interface
    # Init aws api and set default auth method
    tcat_obj.set_config(args.config_yml)
    # tcat_obj.set_config('ci/config.yml')
    # Get API Handle - Try all know auth
    tcat_obj.aws_api_init(args)

# Run in ymal mode (Batch Test execution)
# --Begin
# Check for valid ymal and required keys in config
    if args.config_yml is not None:
        print &quot;[TSKCAT] : Mode of operation: \t [ymal-mode]&quot;
        print &quot;[TSKCAT] : Configuration yml: \t [%s]&quot; % args.config_yml


        test_list = tcat_obj.validate_yaml(args.config_yml)

# Load ymal into local tcat config
        with open(tcat_obj.get_config(), 'r') as cfg:
            tcat_cfg = yaml.safe_load(cfg.read())
        cfg.close()

        tcat_obj.s3upload(tcat_cfg)
        tcat_obj.validate_template(tcat_cfg, test_list)
        tcat_obj.validate_parameters(tcat_cfg, test_list)
        stackinfo = tcat_obj.stackcreate(tcat_cfg, test_list, 'tonyv')
        tcat_obj.get_stackstatus(stackinfo , 5)

# --End
# Finish run in ymal mode

main()
</code></pre>

<h4 id="to-run-taskcat">To run taskcat</h4>
<pre><code>python tcat.py 
</code></pre>

<blockquote>
<p>See below for available flags (you need to pass as input -c at minimum)</p>
</blockquote>
<h3 id="taskcat-cli-flags">TaskCat CLI Flags</h3>
<pre><code>  -h, --help   show this help message and exit
  -c CONFIG_YML, --config_yml CONFIG_YML [Configuration yaml] Read configuration from config.yml
  -P BOTO_PROFILE, --boto-profile BOTO_PROFILE Authenticate using boto profile
  -A AWS_ACCESS_KEY, --aws_access_key AWS_ACCESS_KEY AWS Access Key
  -S AWS_SECRET_KEY, --aws_secret_key AWS_SECRET_KEY AWS Secret Key
  -ey, --example_yaml  Prints out example yaml
  -v, --verbose  Enables verbosity
</code></pre>

<h3 id="help">Help</h3>
<pre><code>If you need help you can reach out to via [avattathil@gmail.com](avattathil@gmail.com)
</code></pre>
<p><em>Enjoy!</em> </p>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
      
    </span>
</div>
    <script src="./js/theme.js"></script>

</body>
</html>

<!--
MkDocs version : 0.16.0
Build Date UTC : 2016-11-17 01:29:26
-->
